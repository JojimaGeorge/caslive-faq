# CasLive FAQ サイト

CasLiveのよくある質問（FAQ）サイトです。11ty（Eleventy）を使用した静的サイトジェネレーターで構築されています。

## 特徴

- ✅ **マークダウンでFAQ管理** - 各FAQを個別のマークダウンファイルで管理
- ✅ **レスポンシブデザイン** - PC・タブレット・スマホに対応
- ✅ **検索機能** - クライアントサイドでのリアルタイム検索
- ✅ **ページネーション** - 1ページあたり18件表示
- ✅ **カテゴリーフィルター** - カテゴリー別の絞り込み表示
- ✅ **将来のCMS対応** - ヘッドレスCMSへの移行が容易

## プロジェクト構成

```
caslive-faq/
├── src/
│   ├── index.njk                  # FAQ一覧ページ
│   ├── faq/                       # FAQ個別ページ（Markdown）
│   │   ├── account-registration.md
│   │   ├── profile-settings.md
│   │   └── ...（20件のサンプル）
│   ├── _includes/
│   │   ├── base.njk               # 共通レイアウト
│   │   └── faq-item.njk           # FAQ個別ページテンプレート
│   ├── css/
│   │   └── style.css              # スタイルシート
│   └── js/
│       ├── search.js              # 検索機能
│       ├── pagination.js          # ページネーション
│       └── filter.js              # カテゴリーフィルター
├── _site/                         # ビルド出力先（gitignore推奨）
├── .eleventy.js                   # 11ty設定ファイル
└── package.json
```

## セットアップ

### 必要な環境
- Node.js（v14以上推奨）

### インストール

```bash
# 依存パッケージのインストール
npm install
```

## 使い方

### 開発サーバーの起動

```bash
npm start
# または
npm run serve
```

ブラウザで `http://localhost:8080` を開いてください。
ファイルを編集すると自動的にリロードされます。

### ビルド

```bash
npm run build
```

**重要：** このコマンドは `.md` ファイルを `.html` に変換し、`_site/` ディレクトリに静的ファイルを生成します。

#### 📌 ビルドが必要な理由

このプロジェクトは **静的サイトジェネレーター（Eleventy）** を使用しています：

- `src/faq/*.md` → **ビルド処理** → `_site/faq/**/*.html`

つまり、マークダウンファイルをブラウザで表示するには、あらかじめ HTML に変換しておく必要があります。本番環境では HTML ファイルがあれば十分です。

## FAQ の追加方法

### 1. 新しいマークダウンファイルを作成

`src/faq/` ディレクトリに新しい `.md` ファイルを作成します。

例：`src/faq/new-question.md`

```markdown
---
title: "新しい質問のタイトル"
category: "アカウント"
date: 2025-01-20
layout: faq-item.njk
permalink: "/faq/new-question/"
---

## 質問の回答

ここに回答内容を記述します。

### 小見出し

マークダウン形式で自由に記述できます。

- リスト項目1
- リスト項目2
```

### 2. フロントマターの説明

- `title`: 質問のタイトル（必須）
- `category`: カテゴリー名（必須）
  - アカウント、配信、視聴、レベル・ランク、不具合、コイン・ギフト など
- `date`: 投稿日（YYYY-MM-DD形式、必須）
- `layout`: `faq-item.njk` を指定（必須）
- `permalink`: URLパス（必須）

### 3. ビルド・確認

```bash
npm run build
```

一覧ページと個別ページが自動生成されます。

#### ⚡ 開発環境での確認（リアルタイム）

```bash
npm start
```

`npm start` を使用している場合、ファイルを保存すると自動的にビルド＆ブラウザがリロードされるため、すぐに確認できます。

## カテゴリーの追加

新しいカテゴリーを追加する場合：

1. `src/index.njk` のカテゴリーボタンセクションに追加
2. FAQのマークダウンファイルで同じカテゴリー名を使用

## デプロイ

### ⚠️ 重要: 本番環境には HTML ファイルのみが必要

本番環境（Web サーバー）では **Node.js や Eleventy はインストール不要** です。

| 環境 | 必要なもの |
|------|----------|
| **ローカル（開発）** | `src/faq/*.md` + Node.js + Eleventy |
| **本番環境** | `_site/` 配下の HTML ファイルのみ |

**本番環境でも `.md` ファイルを配置しても構いません。ただし、ブラウザに表示されるのは `_site/` 内の HTML ファイルです。**

### デプロイ手順

#### 1. ローカルでビルド

```bash
npm run build
```

この時点で `_site/` ディレクトリに完成した HTML ファイルが揃います。

#### 2. 本番環境にアップロード

以下のいずれかの方法で `_site/` ディレクトリをアップロードしてください：

**方法A: 手動でアップロード（FTP/SFTPなど）**
- `_site/` フォルダ全体を本番環境にアップロード

**方法B: GitHub Actions で自動化（推奨）**
- ローカルで `src/faq/*.md` を編集して Git push
- GitHub Actions が自動で `npm run build` を実行
- 生成された `_site/` が自動でサーバーにデプロイ

**方法C: Netlify / Vercel**
1. リポジトリを接続
2. ビルドコマンド: `npm run build`
3. 公開ディレクトリ: `_site`

## 将来の拡張

### ヘッドレスCMSの導入

現在のマークダウンベースの構成から、以下のヘッドレスCMSに簡単に移行できます：

- **Contentful**
- **Strapi**
- **microCMS**
- **WordPress（REST API）**

11tyのデータファイル機能を使ってCMSからデータを取得するように変更するだけです。

### 外部検索サービスの導入

現在はクライアントサイド検索ですが、以下のサービスで高度な検索が可能になります：

- **Algolia**
- **Elasticsearch**
- **Meilisearch**

## ライセンス

このプロジェクトはCasLive Inc.によって管理されています。
